{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SAgDA,MAAMC,EAAOC,SAASC,cAAc,kBACpC,IAAIC,EAAW,IA0Bf,WACI,IAAIC,EAAoBC,aAAaC,QAAQ,uBAC1CF,IACCA,EAAoBG,KAAKC,MAAMJ,GAC/BK,OAAOC,QAAQN,GAAmBO,SAAQ,EAAEC,EAAMC,MAC9CV,EAASS,GAAQC,EACjBb,EAAKc,SAASF,GAAMC,MAAQA,CAAK,I,CA5B7CE,GAEAf,EAAKgB,iBAAiB,UAAUC,IAC5BA,EAAEC,iBAIFC,QAAQC,IAAIjB,GACZM,OAAOY,KAAKlB,GAAUQ,SAAQW,IAC1BtB,EAAKc,SAASQ,GAAIT,MAAQ,EAAE,IAEhCR,aAAakB,WAAW,uBACxBpB,EAAW,EAAE,IAOjBH,EAAKgB,iBAAiB,QAASlB,EAAA0B,EAAEC,UAJdR,IACfd,EAASc,EAAES,OAAOd,MAAQK,EAAES,OAAOb,MACnCR,aAAasB,QAAQ,sBAAuBpB,KAAKqB,UAAUzB,GAAU,GAEpB","sources":["src/js/03-feedback.js"],"sourcesContent":["\nimport { _ } from \"lodash\"\n\n// const feedback = {\n//     email: '',\n//     message: ''\n// }\n\n// // find objects:\n// const emailInputEl = document.querySelector('[name=\"email\"]')\n// const messageInputEl = document.querySelector('[name=\"message\"]')\n// const submitBtnEl = document.querySelector('[type=\"submit\"]')\n\n// // set entered values:\n// emailInputEl.value = JSON.parse(localStorage.getItem(\"feedback-form-state\")).email\n// messageInputEl.value = JSON.parse(localStorage.getItem(\"feedback-form-state\")).message\n\n// // update localStorage:\n// const onEmailInput = function(e) {\n//     e.preventDefault()\n//     feedback.email = e.currentTarget.value\n//     localStorage.setItem(\"feedback-form-state\", JSON.stringify(feedback))\n// }\n// emailInputEl.addEventListener('input', _.throttle(onEmailInput, 1))\n\n// const onMessageInput = function(e) {\n//     e.preventDefault()\n//     feedback.message = e.currentTarget.value\n//     localStorage.setItem(\"feedback-form-state\", JSON.stringify(feedback))\n// }\n// messageInputEl.addEventListener('input', _.throttle(onMessageInput, 1))\n\n\n// // get values and clear the form:\n// submitBtnEl.addEventListener('click', (e) => {\n//     e.preventDefault()\n//     console.log(JSON.parse(localStorage.getItem(\"feedback-form-state\")))\n    \n//     feedback.email = ''\n//     emailInputEl.value = ''\n    \n//     feedback.message = ''\n//     messageInputEl.value = ''\n    \n//     localStorage.setItem(\"feedback-form-state\", JSON.stringify(feedback))\n// })\n\n// **********************************************************************8\n\nconst form = document.querySelector('.feedback-form')\nlet formData = {}\n\n// localStorage.clear()\n\ninitForm()\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n    // const formEls = new FormData(form)\n    // formEls.forEach((value, name) => {console.log(value, name)})\n    \n    console.log(formData)\n    Object.keys(formData).forEach(el => {\n        form.elements[el].value = \"\"\n    })\n    localStorage.removeItem(\"feedback-form-state\")\n    formData = {}\n})\n\nconst onTapping = (e) => {\n    formData[e.target.name] = e.target.value\n    localStorage.setItem(\"feedback-form-state\", JSON.stringify(formData))\n}\nform.addEventListener('input', _.throttle(onTapping, 1))\n\n\nfunction initForm () {\n    let persistedFormData = localStorage.getItem(\"feedback-form-state\")\n    if(persistedFormData) {\n        persistedFormData = JSON.parse(persistedFormData)\n        Object.entries(persistedFormData).forEach(([name, value]) => {\n            formData[name] = value\n            form.elements[name].value = value\n        })\n    }\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$formData","persistedFormData","localStorage","getItem","JSON","parse","Object","entries","forEach","name","value","elements","$945622fd0f572e60$var$initForm","addEventListener","e","preventDefault","console","log","keys","el","removeItem","_","throttle","target","setItem","stringify"],"version":3,"file":"03-feedback.7dcd815d.js.map"}