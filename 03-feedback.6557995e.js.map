{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBACpCC,iBAAmB,sBAKnB,MAAMC,EAFKC,KAAKC,MAAMC,aAAaC,QAHhB,wBAOfJ,GACAK,OAAOC,QAAQN,GAAaO,SAAQ,EAAEC,EAAMC,MACxCb,EAAKc,SAASF,GAAMC,MAAQA,CAAK,IAWzCb,EAAKe,iBAAiB,QAASjB,EAAAkB,EAAEC,UAPdC,IACf,IAAIC,EAAcd,KAAKC,MAAMC,aAAaC,QAd3B,wBAgBWW,EAAZA,GAA4B,GAC1CA,EAAYD,EAAEE,OAAOR,MAAQM,EAAEE,OAAOP,MACtCN,aAAac,QAlBE,sBAkBwBhB,KAAKiB,UAAUH,GAAa,GAElB,IAErDnB,EAAKe,iBAAiB,UAAUG,IAC5BA,EAAEK,iBACF,MAAMC,EAAcnB,KAAKC,MAAMC,aAAaC,QAxB7B,wBA0BXgB,GACAC,QAAQC,IAAIF,GACZf,OAAOkB,KAAKH,GAAab,SAAQiB,IAC7B5B,EAAKc,SAASc,GAAIf,MAAQ,EAAE,IAEhCN,aAAasB,WA/BF,wBAgCNJ,QAAQC,IAAI,6DAA6D","sources":["src/js/03-feedback.js"],"sourcesContent":["\nimport { _ } from \"lodash\"\n\nconst form = document.querySelector('.feedback-form')\nlOCALSTORAGE_KEY = 'feedback-form-state'\n\nfunction getEnteredData () {\n    return JSON.parse(localStorage.getItem(lOCALSTORAGE_KEY)) \n}\nconst enteredData = getEnteredData()\n// тут вызов функции работает (правда это единственный случай, где он работает)\nif (enteredData) {\n    Object.entries(enteredData).forEach(([name, value]) => {\n        form.elements[name].value = value\n    })\n}\n\nconst onTapping = (e) => {\n    let enteredData = JSON.parse(localStorage.getItem(lOCALSTORAGE_KEY))\n    // а тут вызов функции  getEnteredData не работает\n    enteredData = enteredData ? enteredData : {}\n    enteredData[e.target.name] = e.target.value\n    localStorage.setItem(lOCALSTORAGE_KEY, JSON.stringify(enteredData))\n}\nform.addEventListener('input', _.throttle(onTapping, 1))\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n    const enteredData = JSON.parse(localStorage.getItem(lOCALSTORAGE_KEY))\n    // и тут тоже\n    if (enteredData) {\n        console.log(enteredData)\n        Object.keys(enteredData).forEach(el => {\n            form.elements[el].value = \"\"\n        })\n        localStorage.removeItem(lOCALSTORAGE_KEY)\n    } else { console.log(\"object 'feedback-form-state' in storage is already removed\") }\n})\n\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","lOCALSTORAGE_KEY","$945622fd0f572e60$var$enteredData","JSON","parse","localStorage","getItem","Object","entries","forEach","name","value","elements","addEventListener","_","throttle","e","enteredData1","target","setItem","stringify","preventDefault","enteredData2","console","log","keys","el","removeItem"],"version":3,"file":"03-feedback.6557995e.js.map"}