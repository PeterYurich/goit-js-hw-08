{"mappings":"oeACA,IAAAA,EAAAC,EAAA,SAEAC,iBAAmB,sBACnB,MAAMC,EAAOC,SAASC,cAAc,kBAKpC,MAAMC,EAFKC,KAAKC,MAAMC,aAAaC,QAJhB,wBAQfJ,GACAK,OAAOC,QAAQN,GAAaO,SAAQ,EAAEC,EAAMC,MACxCZ,EAAKa,SAASF,GAAMC,MAAQA,CAAK,IAWzCZ,EAAKc,iBAAiB,QAASjB,EAAAkB,EAAEC,UAPdC,IACf,IAAIC,EAAcd,KAAKC,MAAMC,aAAaC,QAf3B,wBAiBWW,EAAZA,GAA4B,GAC1CA,EAAYD,EAAEE,OAAOR,MAAQM,EAAEE,OAAOP,MACtCN,aAAac,QAnBE,sBAmBwBhB,KAAKiB,UAAUH,GAAa,GAElB,MAErDlB,EAAKc,iBAAiB,UAAUG,IAC5BA,EAAEK,iBACF,MAAMC,EAAcnB,KAAKC,MAAMC,aAAaC,QAzB7B,wBA2BXgB,GACAC,QAAQC,IAAIF,GACZf,OAAOkB,KAAKH,GAAab,SAAQiB,IAC7B3B,EAAKa,SAASc,GAAIf,MAAQ,EAAE,IAEhCN,aAAasB,WAhCF,wBAiCNJ,QAAQC,IAAI,6DAA6D","sources":["src/js/03-feedback.js"],"sourcesContent":["\nimport { _ } from \"lodash\"\n\nlOCALSTORAGE_KEY = 'feedback-form-state'\nconst form = document.querySelector('.feedback-form')\n\nfunction getEnteredData () {\n    return JSON.parse(localStorage.getItem(lOCALSTORAGE_KEY)) \n}\nconst enteredData = getEnteredData()\n// тут вызов функции работает (правда это единственный случай, где он работает)\nif (enteredData) {\n    Object.entries(enteredData).forEach(([name, value]) => {\n        form.elements[name].value = value\n    })\n}\n\nconst onTapping = (e) => {\n    let enteredData = JSON.parse(localStorage.getItem(lOCALSTORAGE_KEY))\n    // а тут вызов функции  getEnteredData не работает\n    enteredData = enteredData ? enteredData : {}\n    enteredData[e.target.name] = e.target.value\n    localStorage.setItem(lOCALSTORAGE_KEY, JSON.stringify(enteredData))\n}\nform.addEventListener('input', _.throttle(onTapping, 500))\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n    const enteredData = JSON.parse(localStorage.getItem(lOCALSTORAGE_KEY))\n    // и тут тоже\n    if (enteredData) {\n        console.log(enteredData)\n        Object.keys(enteredData).forEach(el => {\n            form.elements[el].value = \"\"\n        })\n        localStorage.removeItem(lOCALSTORAGE_KEY)\n    } else { console.log(\"object 'feedback-form-state' in storage is already removed\") }\n})\n\n"],"names":["$kEUo3","parcelRequire","lOCALSTORAGE_KEY","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$enteredData","JSON","parse","localStorage","getItem","Object","entries","forEach","name","value","elements","addEventListener","_","throttle","e","enteredData1","target","setItem","stringify","preventDefault","enteredData2","console","log","keys","el","removeItem"],"version":3,"file":"03-feedback.d43153dd.js.map"}